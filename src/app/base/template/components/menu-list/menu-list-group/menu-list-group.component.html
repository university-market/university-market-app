<mat-expansion-panel class="mat-elevation-z0 container" [expanded]="expanded"
  [ngClass]="panelOpened ? 'container-opened' : 'container-closed'"
  (opened)="panelOpened = true" (closed)="panelOpened = false">
  <mat-expansion-panel-header [ngClass]="panelOpened ? 'group-on-opened' : 'group-on-closed'">
    <mat-panel-title>
      <mat-icon *ngIf="menuItem.icon != null; else menuIconDefault">{{ menuItem.icon }}</mat-icon>
      <ng-template #menuIconDefault>
        <mat-icon>arrow_forward_ios</mat-icon>
      </ng-template>
      <span class="title">
        {{ menuItem.title }}
      </span>
    </mat-panel-title>
  </mat-expansion-panel-header>
  <section class="p-0">
    
    <app-menu-list-item 
      *ngFor="let submenuItem of menuItem.children" 
      [item]="submenuItem" 
      [isSubmenu]="true"
      [active]="submenuItem.isActive"
      (onNavigate)="onNavigate.emit(true)">
    </app-menu-list-item>
    
  </section>
</mat-expansion-panel>